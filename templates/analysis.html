{% extends "base.html" %}

{% block title %}
    <title>Analysis</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
{% endblock %}

{% block content %}
    <h1>Analysis</h1>

    <div id="loss-plot" style="float: auto;"></div>
    <div id="acc-plot" style="float: auto;"></div>
    <script>
        var x = {{ x_axis | safe }};
        var loss = {{ loss | safe }};
        var val_loss = {{ val_loss | safe }};
        var acc = {{ acc | safe }};
        var val_acc = {{ val_acc | safe }};

        var lossTrace = {
            x: x,
            y: loss,
            mode: 'lines',
            name: 'Train Loss',
            line: {color: 'blue'}
        };

        var vallossTrace = {
            x: x,
            y: val_loss,
            mode: 'lines',
            name: 'Val Loss',
            line: {color: 'red'}
        }

        var data = [lossTrace, vallossTrace];

        var layout = {
            title: 'Training and Validation Loss Over 1000 Epochs',
            xaxis: {
                title: 'Epochs'
            },
            yaxis: {
                title: 'Loss'
            }
        };

        Plotly.newPlot('loss-plot', data, layout);

        var accTrace = {
            x: x,
            y: acc,
            mode: 'lines',
            name: 'Train Accuracy',
            line: {color: 'blue'}
        };

        var valaccTrace = {
            x: x,
            y: val_acc,
            mode: 'lines',
            name: 'Val Accuracy',
            line: {color: 'red'}
        }

        var data = [accTrace, valaccTrace];

        var layout = {
            title: 'Training and Validation Accuracy Over 1000 Epochs',
            xaxis: {
                title: 'Epochs'
            },
            yaxis: {
                title: 'Accuracy'
            }
        };

        Plotly.newPlot('acc-plot', data, layout);



    </script>

{% endblock %}